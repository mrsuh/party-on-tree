<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Party on the tree</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <style>
        body {
            background-image: url('img/bg2.png');
            background-repeat: no-repeat;
            background-color: #bae4da;
        }
    </style>

</head>
<body>
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/index.html">Party on tree</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
           
            <ul class="nav navbar-nav">
                <li>
                    <a href="/index.html">Сharacters</a></li>
                <li>
                    <a href="/test.html">Test</a></li>
                <li>
                    <a href="/about.html">About</a></li>
            </ul>
        </div>
    </div>
</nav>
<div class="col-md-2"></div>
<div class="col-md-8 col-sm-12">
        <form action="/test.html" method="post">
                    <div class="test text-center question" data-next="2 " id="1" style="display: none; width: 100%">
                <h3>Question 1 in 12</h3>Любимый цвет

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;ice_king&quot;,&quot;princess_booblegum&quot;]"/> красный
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;lady_raincorn&quot;,&quot;marceline&quot;,&quot;lumpy_space_princess&quot;]"/> синий
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;bmo&quot;,&quot;gunter&quot;,&quot;earl_of_lemongrab&quot;]"/> желтый
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;flame_princess&quot;,&quot;pappermit_butler&quot;,&quot;lich&quot;]"/> черный
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="3 " id="2" style="display: none; width: 100%">
                <h3>Question 2 in 12</h3>Что ты ел сегодня на завтрак?

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;marceline&quot;]"/> клубнику с томатным соком
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;finn&quot;,&quot;jake&quot;]"/> мега-сэндвич
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;lumpy_space_princess&quot;,&quot;princess_booblegum&quot;,&quot;cinnamon_bun&quot;]"/> конфеты
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;ice_king&quot;,&quot;gunter&quot;]"/> что-то замороженое
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="4 " id="3" style="display: none; width: 100%">
                <h3>Question 3 in 12</h3>Самое удачное место для жилья:

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;princess_booblegum&quot;,&quot;ice_king&quot;,&quot;earl_of_lemongrab&quot;,&quot;flame_princess&quot;]"/> королевский дворец
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;bmo&quot;,&quot;finn&quot;,&quot;jake&quot;]"/> домик на дереве
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;prismo&quot;,&quot;cosmic_owl&quot;]"/> космос
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;lumpy_space_princess&quot;,&quot;lady_raincorn&quot;,&quot;party_god&quot;]"/> на природе
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="5 " id="4" style="display: none; width: 100%">
                <h3>Question 4 in 12</h3>Ваш внутренний возраст

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;finn&quot;,&quot;bmo&quot;,&quot;flame_princess&quot;]"/> 13-16 лет
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;princess_booblegum&quot;,&quot;lumpy_space_princess&quot;]"/> 17-25 лет
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;lich&quot;,&quot;hunson_abadeer&quot;,&quot;marceline&quot;,&quot;ice_king&quot;,&quot;cosmic_owl&quot;,&quot;prismo&quot;]"/> 1000 лет
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;lady_raincorn&quot;,&quot;jake&quot;,&quot;cinnamon_bun&quot;,&quot;gunter&quot;]"/> около 30 лет
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="6 " id="5" style="display: none; width: 100%">
                <h3>Question 5 in 12</h3>Лучшее времяпрепровождение:

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;party_pat&quot;,&quot;party_god&quot;]"/> тусовка
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;jake&quot;,&quot;finn&quot;]"/> спасение принцесс
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;marceline&quot;,&quot;ice_king&quot;,&quot;lumpy_space_princess&quot;]"/> творчество
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;prismo&quot;,&quot;bmo&quot;,&quot;lady_raincorn&quot;]"/> болтовня
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="7 " id="6" style="display: none; width: 100%">
                <h3>Question 6 in 12</h3>Твое хобби

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;princess_booblegum&quot;]"/> занимаюсь наукой
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;ice_king&quot;]"/> пишу рассказы
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;bmo&quot;,&quot;jake&quot;]"/> пою в душе
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;marceline&quot;,&quot;lich&quot;,&quot;earl_of_lemongrab&quot;,&quot;hunson_abadeer&quot;]"/> ем людей
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="8 " id="7" style="display: none; width: 100%">
                <h3>Question 7 in 12</h3>Как ты относишься к снегу?

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;lich&quot;,&quot;marceline&quot;,&quot;lumpy_space_princess&quot;]"/> терпеть его не могу!
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;ice_king&quot;,&quot;gunter&quot;]"/> что может быть лучше снега?
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;finn&quot;,&quot;jake&quot;]"/> круто! Можно в снежки поиграть
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;earl_of_lemongrab&quot;]"/> снег - это Неприемлемо!
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="9 " id="8" style="display: none; width: 100%">
                <h3>Question 8 in 12</h3>Кем ты будешь на Хеллоуин?

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;lich&quot;,&quot;earl_of_lemongrab&quot;,&quot;hunson_abadeer&quot;]"/> самим_собой!
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;marceline&quot;,&quot;ice_king&quot;]"/> медсестрой
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;jake&quot;,&quot;finn&quot;,&quot;princess_booblegum&quot;]"/> зомби
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;cosmic_owl&quot;,&quot;lumpy_space_princess&quot;]"/> космической совой
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="10 " id="9" style="display: none; width: 100%">
                <h3>Question 9 in 12</h3>В музыкальной группе ты:

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;jake&quot;,&quot;lady_raincorn&quot;]"/> играешь на скрипке
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;finn&quot;,&quot;bmo&quot;]"/> битбоксер
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;lumpy_space_princess&quot;,&quot;ice_king&quot;,&quot;lich&quot;,&quot;earl_of_lemongrab&quot;]"/> портишь всем настроение
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;marceline&quot;,&quot;flame_princess&quot;]"/> играешь на гитаре
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="11 " id="10" style="display: none; width: 100%">
                <h3>Question 10 in 12</h3>Какого пола ты хотел бы быть?

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;finn&quot;,&quot;jake&quot;,&quot;ice_king&quot;,&quot;earl_of_lemongrab&quot;,&quot;pappermit_butler&quot;,&quot;lich&quot;,&quot;flambo&quot;,&quot;hunson_abadeer&quot;,&quot;cinnamon_bun&quot;,&quot;party_god&quot;,&quot;party_pat&quot;,&quot;prismo&quot;,&quot;billy&quot;,&quot;starchy&quot;]"/> Мужского
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;princess_booblegum&quot;,&quot;lady_raincorn&quot;,&quot;marceline&quot;,&quot;lumpy_space_princess&quot;,&quot;flame_princess&quot;,&quot;ghost_princess&quot;,&quot;lollypop_girl&quot;]"/> Женского
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;bmo&quot;,&quot;gunter&quot;,&quot;cosmic_owl&quot;]"/> Не знаю
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;bmo&quot;,&quot;gunter&quot;,&quot;cosmic_owl&quot;]"/> Я еще не определился
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="12 " id="11" style="display: none; width: 100%">
                <h3>Question 11 in 12</h3>Твоим недостатком является?

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;cosmic_owl&quot;,&quot;jake&quot;,&quot;cosmic_owl&quot;]"/> Излишняя прямолинейность
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;ice_king&quot;,&quot;earl_of_lemongrab&quot;,&quot;lumpy_space_princess&quot;]"/> Гордость
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;gunter&quot;,&quot;lollypop_girl&quot;,&quot;billy&quot;]"/> Лень
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;flame_princess&quot;,&quot;lich&quot;,&quot;finn&quot;]"/> Вспыльчивость
                    </div>
                
            </div>
                    <div class="test text-center question" data-next="12 " id="12" style="display: none; width: 100%">
                <h3>Question 12 in 12</h3>В чем ваше преимущество?

                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;princess_booblegum&quot;,&quot;ice_king&quot;,&quot;pappermit_butler&quot;]"/> Ум
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;lady_raincorn&quot;,&quot;cinnamon_bun&quot;,&quot;ghost_princess&quot;,&quot;lollypop_girl&quot;]"/> Милая(-ый)
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;billy&quot;,&quot;finn&quot;,&quot;jake&quot;,&quot;bmo&quot;]"/> Храбрость
                    </div>
                                    <div class="form-control center-block btn btn-info answer" style=" max-width: 300px; margin-top: 10px">
                        <input type="radio" class="hide" value="" name="radio" data-characters="[&quot;party_god&quot;,&quot;party_pat&quot;,&quot;starchy&quot;,&quot;lumpy_space_princess&quot;]"/> Чувство юмора
                    </div>
                
            </div>
                <button type="button" class="next btn btn-primary center-block" style="margin-top: 10px; min-width: 300px">
            NEXT
        </button>
        <div id="answer"></div>
        <input type="submit" class="btn-success center-block" style="display: none; margin-top: 10px; min-width: 300px"
               value="PROCESS">
    </form>
</div>
<div class="col-md-2"></div>
</body>
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <script>
        
        let answers = {};

        function hideQuestions() {
            $('.test').hide();
            $('#1').show();
        }

        function checkButtons() {
            $('.next').attr('disabled', true);

            $('.test .answer').on('click', function () {
                $('.test:visible .answer').removeClass('active');
                $(this).addClass('active');
                $(this).children('input[type=radio]').prop('checked', true);
                $('.next').attr('disabled', false);
            })
        }

        checkButtons();
        
        function nextQuestion() {
            checkButtons();

            $('.next').on('click', function () {
                $('.next').attr('disabled', true);
                let next = $('.test:visible').data('next');
                let characters = $('.test:visible input:checked').data('characters');
                characters.forEach(function(character) {
                    if(!(character in answers)) {
                        answers[character] = 0;
                    }
                    answers[character] = answers[character] + 1;
                })
                let id = $('.test:visible').attr('id');

                if (parseInt(next) === parseInt(id)) {
                    let result = '';
                    let resultCount = 0;
                    for (let character in answers) {
                        if (!answers.hasOwnProperty(character)){
                            continue;  
                        }
                        
                        let count = answers[character];
                        if(count > resultCount) {
                            resultCount = count; 
                            result = character;
                        }
                    }
                    
                    return window.window.location.href = '/characters/' + result + '.html';
                }

                $('#' + id).hide();
                $('#' + next).show();
            })
        }

        hideQuestions();
        nextQuestion();
    </script>

</html>
